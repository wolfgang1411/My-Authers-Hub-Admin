<div class="min-h-screen bg-gray-50 px-4 sm:px-6 lg:px-8 py-5">
  <!-- ‚ñë DASHBOARD HEADER ‚ñë -->
  <div
    class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 mb-6"
  >
    <h1 class="text-xl sm:text-2xl font-medium text-slate-800">
      Dashboard Overview
    </h1>
  </div>

  <!-- ‚ñë NOTIFICATIONS BAR ‚ñë -->
  @if (userService.loggedInUser$()?.accessLevel === "SUPERADMIN") {
    <div
      class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-5 mb-8"
    >
      <!-- Pending Titles -->
      <div
        class="flex items-center justify-between p-4 rounded-xl shadow-md cursor-pointer bg-gradient-to-r from-[#e9d5ff] to-[#c4b5fd] hover:scale-[1.03] hover:shadow-xl transition-all duration-300"
        (click)="goToPendingTitles()"
      >
        <div>
          <p class="text-sm opacity-80">Pending Titles</p>
          <p class="text-2xl font-bold">{{ pendingTitles() }}</p>
        </div>
        <mat-icon class="text-[#6B21A8] text-3xl">hourglass_empty</mat-icon>
      </div>

      <!-- Royalty Approval -->
      <div
        class="flex items-center justify-between p-4 rounded-xl shadow-md cursor-pointer bg-gradient-to-r from-[#c7d2fe] to-[#93c5fd] hover:scale-[1.03] hover:shadow-xl transition-all duration-300"
        (click)="goToRoyaltyApproval()"
      >
        <div>
          <p class="text-sm opacity-80">Royalty Approval</p>
          <p class="text-2xl font-bold">{{ royaltyPending() }}</p>
        </div>
        <mat-icon class="text-indigo-700 text-3xl">payments</mat-icon>
      </div>

      <!-- ISBN Applied -->
      <div
        class="flex items-center justify-between p-4 rounded-xl shadow-md cursor-pointer bg-gradient-to-r from-[#ddd6fe] to-[#bfdbfe] hover:scale-[1.03] hover:shadow-xl transition-all duration-300"
        (click)="goToIsbnApplied()"
      >
        <div>
          <p class="text-sm opacity-80">ISBN Pending</p>
          <p class="text-2xl font-bold">{{ isbnApplied() }}</p>
        </div>
        <mat-icon class="text-indigo-700 text-3xl">library_books</mat-icon>
      </div>
    </div>
  }

  <!-- ‚ñë STATS SECTION ‚ñë -->
  <div [ngClass]="gridClass()">
    @for (stat of stats(); track $index) {
      <app-stat-card-component
        [stat]="stat"
        class="bg-white p-5 rounded-xl shadow-md border border-gray-200"
      ></app-stat-card-component>
    }
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    <div class="lg:col-span-2 flex flex-col gap-6">
      <app-sales-analytics-component
        class="bg-white p-6 rounded-xl shadow-md border border-gray-200"
      ></app-sales-analytics-component>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 min-h-[250px]">
        @if (userService.loggedInUser$()?.accessLevel !== "AUTHER") {
          <app-recent-authors
            class="bg-white p-6 rounded-xl shadow-md border border-gray-200"
          >
            <ng-template #empty>
              <div
                class="h-[120px] flex flex-col items-center justify-center text-gray-400 italic"
              >
                No authors yet ‚Äî start adding üéØ
              </div>
            </ng-template>
          </app-recent-authors>
        }
        <app-title-preview-component
          [heading]="titleConfigs().bestSelling.heading"
          [filter]="titleConfigs().bestSelling.filter"
          [type]="titleConfigs().bestSelling.type"
          class="bg-white p-6 rounded-xl shadow-md border border-gray-200 min-h-[180px]"
        >
          <ng-template #empty>
            <div
              class="h-[120px] flex flex-col items-center justify-center text-gray-400 italic"
            >
              No sales records yet üìä
            </div>
          </ng-template>
        </app-title-preview-component>
        <app-title-preview-component
          [heading]="titleConfigs().recent.heading"
          [filter]="titleConfigs().recent.filter"
          [type]="titleConfigs().recent.type"
          class="bg-white p-6 rounded-xl shadow-md border border-gray-200 min-h-[180px]"
        >
          <ng-template #empty>
            <div
              class="h-[120px] flex flex-col items-center justify-center text-gray-400 italic"
            >
              No new books uploaded ‚úçÔ∏è
            </div>
          </ng-template>
        </app-title-preview-component>
        <app-activity-timeline-component
          class="bg-white p-6 rounded-xl shadow-md border border-gray-200 min-h-[180px]"
        ></app-activity-timeline-component>
      </div>
    </div>
    <div class="flex flex-col gap-6">
      <app-profile-card-component></app-profile-card-component>
      <app-recent-orders-component
        class="min-h-[200px] bg-white p-4 sm:p-6 rounded-xl shadow-md border border-gray-200"
      >
        <ng-template #empty>
          <div
            class="h-full flex items-center justify-center text-gray-400 italic"
          >
            No orders received yet üì¶
          </div>
        </ng-template>
      </app-recent-orders-component>
    </div>
  </div>
</div>
