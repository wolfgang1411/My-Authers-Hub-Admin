@switch (stepperOrientation | async) { @case ('horizontal') { } @case
('vertical') { } }
<div class="flex justify-between">
  <h3 class="heading">
    {{ "publisherdetails" | translate }}
  </h3>
  <app-back></app-back>
</div>
<mat-stepper
  class="example-stepper !my-4"
  [orientation]="(stepperOrientation | async)!"
  [linear]="true"
  [animationDuration]="'500'"
>
  <mat-step
    [stepControl]="publisherFormGroup"
    class="!text-accent !p-0"
    label="Fill out your basic details"
  >
    <form [formGroup]="publisherFormGroup">
      <div class="grid-cols-4 grid gap-4 my-4">
        <mat-form-field>
          <mat-label>{{ "companyname" | translate }}</mat-label>
          <input
            matInput
            placeholder="Company Name Pvt Ltd"
            formControlName="name"
            required
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{ "emailidofficial" | translate }}</mat-label>
          <input
            matInput
            placeholder="abc@gmail.com"
            formControlName="email"
            required
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{ "pocname" | translate }}</mat-label>
          <input
            matInput
            placeholder="First name Last Name"
            formControlName="pocName"
            required
          />
        </mat-form-field>
        <mat-form-field appearance="fill">
          <mat-label>Phone Number</mat-label>
          <input
            matInput
            type="tel"
            placeholder="+91 1234567890"
            formControlName="pocPhoneNumber"
            required
          />
          @if(publisherFormGroup.get('pocPhoneNumber')?.hasError('required')) {
          <mat-error> Phone number is required </mat-error>
          } @if(publisherFormGroup.get('pocPhoneNumber')?.hasError('pattern')) {

          <mat-error> Enter a valid 10-digit mobile number </mat-error>
          }
        </mat-form-field>
        <!-- <div class="bg-">
          <span>{{ "poccontactnumber" | translate }}</span>
          <ngx-intl-tel-input
            required
            [cssClass]="'custom-tel-input'"
            [preferredCountries]="[
              inputData.CountryISO.UnitedStates,
              inputData.CountryISO.UnitedKingdom,
              inputData.CountryISO.Denmark
            ]"
            [enableAutoCountrySelect]="true"
            [enablePlaceholder]="true"
            [searchCountryFlag]="true"
            [searchCountryField]="[
              inputData.SearchCountryField.Iso2,
              inputData.SearchCountryField.Name
            ]"
            [selectFirstCountry]="false"
            [selectedCountryISO]="inputData.CountryISO.India"
            [maxLength]="15"
            [phoneValidation]="true"
            customPlaceholder="Mobile No"
            name="Phone Number"
            formControlName="pocPhoneNumber"
            required
          ></ngx-intl-tel-input>
        </div> -->
        <mat-form-field>
          <mat-label>{{ "pocemailid" | translate }}</mat-label>
          <input
            matInput
            placeholder="xyz@gmail.com"
            formControlName="pocEmail"
            required
          />
        </mat-form-field>
        @if( publisherFormGroup.get('id')?.value === null ||
        publisherFormGroup.get('id')?.value === undefined ) {

        <mat-form-field>
          <mat-label>{{ "createpassword" | translate }}</mat-label>
          <input
            matInput
            type="password"
            placeholder="********"
            formControlName="userPassword"
            required
          />
        </mat-form-field>
        }
        <mat-form-field>
          <mat-label>{{ "pocdesignation" | translate }}</mat-label>
          <input
            matInput
            placeholder="xyz"
            formControlName="designation"
            required
          />
        </mat-form-field>
      </div>
    </form>
    <form [formGroup]="publisherSocialMediaGroup">
      <div formArrayName="socialMedia" class="flex flex-col gap-4 my-4">
        <div class="flex justify-between items-center">
          <h3>
            {{ "addsocialmedialinks" | translate }}
          </h3>
          <button
            matButton
            matButton="filled"
            class="!bg-primary disabled:opacity-40"
            (click)="this.addSocialMedia()"
            [disabled]="isAllSelected()"
          >
            <mat-icon class="material-icons">add_circle_outline</mat-icon>
            {{ "addmore" | translate }}
          </button>
        </div>
        @for (group of publisherSocialMediaGroup.controls.socialMedia.controls;
        track $index) {
        <div [formGroupName]="$index">
          <app-social-media
            [socialMediaGroup]="group"
            [socialMediaArray]="socialMediaArray"
            [index]="$index"
          ></app-social-media>
        </div>
        }
      </div>
    </form>
    <form [formGroup]="publisherFormGroup">
      <mat-card class="example-card !gap-4" appearance="outlined">
        <mat-card-header class="flex flex-col gap-2">
          <mat-card-title class="!text-primary text-left !font-medium">{{
            "uploadlogo" | translate
          }}</mat-card-title>
          <mat-card-subtitle class="text-"
            >{{
              "imagesizeshouldbelessthan2MB" | translate
            }}.</mat-card-subtitle
          >
        </mat-card-header>
        <app-upload-file></app-upload-file>
      </mat-card>
    </form>
    <button
      matButton="filled"
      class="!bg-primary mt-8"
      matStepperNext
      (click)="jumptonext()"
    >
      Next
    </button>
  </mat-step>
  <mat-step
    [stepControl]="publisherAddressDetails"
    class="!text-accent !p-0"
    label="Fill out your address"
  >
    <form [formGroup]="publisherAddressDetails">
      <div class="grid-cols-4 grid gap-4 my-4">
        <mat-form-field>
          <mat-label>{{ "country" | translate }}</mat-label>
          <mat-select formControlName="country" required>
            <mat-option value="">
              {{ "selectcountry" | translate }}
            </mat-option>
            @for (item of countries; track $index) {
            <mat-option [value]="item.isoCode">{{ item.name }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{ "state" | translate }}</mat-label>
          <mat-select formControlName="state" required>
            <mat-option value="">
              {{ "selectstate" | translate }}
            </mat-option>
            @for (item of states; track $index) {

            <mat-option [value]="item.isoCode">{{ item.name }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{ "city" | translate }}</mat-label>
          <mat-select formControlName="city" required>
            <mat-option value="">
              {{ "selectcity" | translate }}
            </mat-option>
            @for (item of cities; track $index) {

            <mat-option [value]="item.name">{{ item.name }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{ "address" | translate }}</mat-label>
          <input
            matInput
            formControlName="address"
            placeholder="Ex. 1 Main St, New York, NY"
            required
          />
        </mat-form-field>

        <mat-form-field>
          <mat-label>{{ "pincode" | translate }}</mat-label>
          <input matInput formControlName="pincode" placeholder="" required />
        </mat-form-field>
      </div>
    </form>
    <div class="flex flex-row gap-2">
      <button class="!bg-primary mt-8 !text-white" matButton matStepperPrevious>
        Back
      </button>
      <button class="!bg-primary mt-8 !text-white" matButton matStepperNext>
        Next
      </button>
    </div>
  </mat-step>
  <mat-step
    [stepControl]="publisherBankDetails"
    class="!text-accent !p-0"
    label="Fill out your Bank Details"
  >
    <form [formGroup]="publisherBankDetails">
      <div class="grid-cols-4 grid gap-4 my-4">
        <mat-form-field>
          <mat-label>{{ "nameonaccount" | translate }}</mat-label>
          <input
            matInput
            formControlName="accountHolderName"
            placeholder="M Singh"
            required
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>
            {{ "bankname" | translate }}
          </mat-label>
          <mat-select
            [formControl]="publisherBankDetails.controls.name"
            required
          >
            <mat-option value="">Select Bank</mat-option>
            @for (bank of bankOptions(); track $index) {
            <mat-option [value]="bank.name">{{ bank.name }}</mat-option>
            }
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{ "bankaccnumber" | translate }}</mat-label>
          <input
            matInput
            formControlName="accountNo"
            placeholder="78************56"
            required
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{ "ifsccode" | translate }}</mat-label>
          <input
            matInput
            formControlName="ifsc"
            placeholder="IFSC7877776"
            required
          />
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{ "panCardNo" | translate }}</mat-label>
          <input matInput formControlName="panCardNo" placeholder="" required />
          @if (publisherBankDetails.get('panCardNo')?.hasError('invalidPan')) {
          <mat-error> Enter a valid PAN number (e.g., ABCDE1234F) </mat-error>
          }
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{ "accountType" | translate }}</mat-label>
          <mat-select formControlName="accountType" placeholder="" required>
            <mat-option value="SAVING">SAVING</mat-option>
            <mat-option value="CURRENT">CURRENT</mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </form>
    <div class="flex flex-row gap-2">
      <button class="!bg-primary mt-8 !text-white" matButton matStepperPrevious>
        Back
      </button>
      <button
        class="!bg-primary mt-8 !text-white"
        matButton
        (click)="onSubmit()"
      >
        {{
          loggedInUser()?.accessLevel === "SUPERADMIN" || !this.publisherId
            ? ("submit" | translate)
            : ("raiseaticket" | translate)
        }}
      </button>
    </div>
  </mat-step>
</mat-stepper>
