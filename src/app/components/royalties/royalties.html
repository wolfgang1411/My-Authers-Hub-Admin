<div class="flex flex-col gap-4 mt-8">
  <ul class="royalties-container">
    <li>
      <span>{{ "name" | translate }}</span>
      <span>{{ "royaltytype" | translate }}</span>
      @for (columns of displayedColumns(); track $index) {
      <span>{{ columns | translate }}</span>
      }
    </li>

    @for (royaltyGroup of royaltiesController().controls; track $index) {
    <li>
      <span>{{ royaltyGroup.controls.name.value || "N/A" }}</span>
      <span>
        {{ royaltyGroup.controls.publisherId.value ? "PUBLISHER" : "AUTHOR" }}
      </span>

      @for (column of displayedColumns(); track $index) {
      <span>
        <input
          [formControl]="royaltyGroup.controls[column]"
          type="number"
          class="w-0 min-w-full"
        />
      </span>
      }
    </li>
    }
    <li>
      <span>{{ "totalroyalties" | translate }}</span>
      <span></span>
      @for (column of displayedColumns(); track $index) {
      <span
        class="font-medium"
        [ngClass]="{
          'bg-red-500 text-white': totalRoyaties()[column] > 100
        }"
        [title]="royaltiesController().getError('invalid') || ''"
      >
        {{ totalRoyaties()[column] }}
      </span>
      }
    </li>
  </ul>
</div>
