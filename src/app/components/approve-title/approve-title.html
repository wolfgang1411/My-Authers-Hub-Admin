<form
  (ngSubmit)="onSubmit()"
  [formGroup]="form"
  class="flex flex-col gap-6 w-full p-6"
>
  <div class="flex items-center gap-3 mb-2">
    <div
      class="p-3 rounded-full bg-[var(--light-purple-bg)] text-[var(--primary)] shadow-inner"
    >
      <mat-icon>dns</mat-icon>
    </div>
    <div>
      <h1 mat-dialog-title class="text-xl font-semibold text-[var(--text-heading)] m-0">
        {{ "platformdetails" | translate }}
      </h1>
      <p class="text-sm text-[var(--text-secondary)] mt-1">
        Enter platform-specific identifiers and distribution links
      </p>
    </div>
  </div>

  <mat-dialog-content class="!p-0 !m-0">
    <div class="grid md:grid-cols-2 xl:grid-cols-3 gap-4 max-h-[60vh] overflow-y-auto pr-2">
      @for (platformIdentifier of form.controls.platformIdentifier.controls;
      track platformIdentifier.controls.platform.value) {
      <div
        class="group border border-[var(--primary-superlight)] rounded-xl p-5 bg-gradient-to-br from-white to-[var(--light-purple-bg)] hover:shadow-lg hover:scale-[1.02] transition-all"
      >
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-2">
            <div
              class="p-2 rounded-full bg-[var(--light-purple-bg)] text-[var(--primary)]"
            >
              <mat-icon class="!text-lg">storefront</mat-icon>
            </div>
            <h5 class="font-medium text-[var(--text-heading)] text-base">
              {{ platformIdentifier.controls.platform.value | translate }}
            </h5>
          </div>
          <span
            class="text-[var(--green-2)] text-xs font-medium bg-[var(--light-green-bg)] px-3 py-1 rounded-full border border-[var(--light-green-2)]"
          >
            {{ platformIdentifier.controls.type.value }}
          </span>
        </div>

        <div class="flex flex-col gap-4">
          <mat-form-field appearance="outline" class="w-full">
            <input
              matInput
              type="text"
              [formControl]="platformIdentifier.controls.uniqueIdentifier"
              [placeholder]="'uniqueidentifier' | translate"
              class="!text-sm"
            />
            <mat-hint class="text-xs text-[var(--text-secondary)]">
              Platform-specific identifier (SKU, ASIN, etc.)
            </mat-hint>
          </mat-form-field>

          <mat-form-field appearance="outline" class="w-full">
            <input
              matInput
              type="url"
              [formControl]="platformIdentifier.controls.distributionLink"
              [placeholder]="'distributionlinks' | translate"
              class="!text-sm"
            />
            <mat-hint class="text-xs text-[var(--text-secondary)]">
              Distribution or purchase link (https://...)
            </mat-hint>
          </mat-form-field>
        </div>
      </div>
      }
    </div>
  </mat-dialog-content>

  <mat-dialog-actions class="!justify-end !p-0 !mt-4 gap-3">
    <button
      (click)="data.onClose()"
      mat-button
      type="button"
      class="!px-6 !py-2 !rounded-lg !border !border-[var(--primary-superlight)] !text-[var(--primary)] hover:!bg-[var(--light-purple-bg)] transition-all"
    >
      {{ "close" | translate }}
    </button>
    <button
      type="submit"
      mat-button
      class="!px-6 !py-2 !rounded-lg !bg-primary !text-white hover:!opacity-90 transition-all shadow-md hover:shadow-lg"
    >
      {{ "confirm" | translate }}
    </button>
  </mat-dialog-actions>
</form>
